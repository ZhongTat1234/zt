<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/ZhongTat1234/zt/refs/heads/main/ai-chip-microprocessor-icon-vector-52583248.jpg">
<title>简单投票系统</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    text-align: center;
    padding: 40px;
}

.container {
    background: white;
    max-width: 500px;
    margin: auto;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

h2 {
    margin-bottom: 20px;
}

button {
    width: 100%;
    padding: 10px;
    margin: 5px 0;
    border: none;
    background: #3498db;
    color: white;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}

button:hover {
    background: #2980b9;
}

.result {
    margin-top: 20px;
    text-align: left;
}

.progress {
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    margin-bottom: 10px;
}

.bar {
    height: 20px;
    background: #2ecc71;
    text-align: right;
    padding-right: 5px;
    color: white;
    font-size: 12px;
}
</style>
</head>

<body>

<div class="container">
    <h2>你最喜欢的编程语言是？</h2>

    <button onclick="vote(0)">Java</button>
    <button onclick="vote(1)">Python</button>
    <button onclick="vote(2)">C++</button>
    <button onclick="vote(3)">JavaScript</button>

    <div class="result" id="result"></div>

    <button onclick="resetVotes()" style="background:red;margin-top:15px;">重置投票</button>
</div>

<script>
let votes = [0, 0, 0, 0];
let voted = false;

function vote(index) {
    if (voted) {
        alert("你已经投过票了！");
        return;
    }

    votes[index]++;
    voted = true;
    displayResults();
}

function displayResults() {
    let total = votes.reduce((a, b) => a + b, 0);
    let resultDiv = document.getElementById("result");
    resultDiv.innerHTML = "";

    votes.forEach((count, i) => {
        let percent = total === 0 ? 0 : ((count / total) * 100).toFixed(1);

        resultDiv.innerHTML += `
            <div>${getOptionName(i)} - ${count}票 (${percent}%)</div>
            <div class="progress">
                <div class="bar" style="width:${percent}%">
                    ${percent}%
                </div>
            </div>
        `;
    });
}

function getOptionName(index) {
    const options = ["Java", "Python", "C++", "JavaScript"];
    return options[index];
}

function resetVotes() {
    votes = [0, 0, 0, 0];
    voted = false;
    displayResults();
}

displayResults();
</script>

</body>
</html>
